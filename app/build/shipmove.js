function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}export var ShipMove=function(){function e(t,n){_classCallCheck(this,e),this.ship=t,this.field=n,this.moveHandler=this.moveTheShip.bind(this),this.stopHandler=this.stopMove.bind(this),this.mobileMoveHandler=this.mobileDeviceMove.bind(this),this.stopMobileHandler=this.stopMobileMove.bind(this)}return _createClass(e,[{key:"startMove",value:function(){window.addEventListener("keydown",this.moveHandler),window.addEventListener("touchstart",this.mobileMoveHandler)}},{key:"stopMove",value:function(){window.removeEventListener("keydown",this.moveHandler)}},{key:"stopMobileMove",value:function(){window.removeEventListener("touchstart",this.mobileMoveHandler)}},{key:"moveTheShip",value:function(){var e=null,t=this.ship,n=this.field;"ArrowLeft"==event.key&&(e=setTimeout((function i(){t.getBoundingClientRect().left<=n.getBoundingClientRect().left&&(t.style.left="2px",clearTimeout(e));var o=t.offsetLeft;t.style.left=o-2+"px",e=setTimeout(i,10)}),10),window.addEventListener("keyup",(function(){"ArrowLeft"==event.key&&clearTimeout(e)}))),"ArrowRight"==event.key&&(e=setTimeout((function i(){t.getBoundingClientRect().right>=n.getBoundingClientRect().right&&(t.style.left=n.getBoundingClientRect().width-t.getBoundingClientRect().width+"px",clearTimeout(e));var o=t.offsetLeft;t.style.left=o+2+"px",e=setTimeout(i,10)}),10),window.addEventListener("keyup",(function(){"ArrowRight"==event.key&&clearTimeout(e)})))}},{key:"mobileDeviceMove",value:function(){var e,t,n=this.ship,i=this.field;event.target.closest(".btn-left")&&(event.preventDefault(),e=setTimeout((function t(){n.getBoundingClientRect().left<=i.getBoundingClientRect().left&&(n.style.left="3px",clearTimeout(e));var o=n.offsetLeft;n.style.left=o-3+"px",e=setTimeout(t,5)}),5),document.querySelector(".btn-left").addEventListener("touchend",(function(){event.preventDefault(),clearTimeout(e)}))),event.target.closest(".btn-right")&&(event.preventDefault(),t=setTimeout((function e(){n.getBoundingClientRect().right>=i.getBoundingClientRect().right&&(n.style.left=i.getBoundingClientRect().width-n.getBoundingClientRect().width+"px",clearTimeout(t));var o=n.offsetLeft;n.style.left=o+3+"px",t=setTimeout(e,5)}),5),document.querySelector(".btn-right").addEventListener("touchend",(function(){event.preventDefault(),clearTimeout(t)})))}}]),e}();